import joblib
import h5py
import pickle


#importing model
model_file_path = r'C:\Users\user\GIT Project\Prototype_Halim\Smishing_Model.h5'

# Load the decision tree model from the HDF5 file

from sklearn.tree import DecisionTreeClassifier

with h5py.File(model_file_path,'r') as file:
     # Create a DecisionTreeClassifier object
    model = file


print("model OK")



#importing tokenization
tokenizer_file_path = r'C:\Users\user\GIT Project\Prototype_Halim\Feature_Extraction.pickle'
with open (tokenizer_file_path, 'rb') as token:
    tokenizer = pickle.load(token)

print("token ok")







model_output = ["Ham","Spam"]

#processing the text
def predict_action(statement):
        token_list = tokenizer.fit_transform(statement)
        print(token_list)

predict_action("test")


# Chatbot interaction loop
while True:
    user_input = input("Message: ")
    if user_input.lower() == 'quit':
        break
    action = predict_action(user_input)
    print("Prediction: ", action)
